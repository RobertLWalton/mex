// MEXAS Compile Test 1 Input
//
// File:	mexas_compile_test_1.in
// Author:	Bob Walton (walton@acm.org)
// Date:	Sun Jul 30 06:12:54 EDT 2023
//
// The authors have placed this program in the public
// domain; they make no warranty and accept no liability
// for this program.

// PUSH, POP, ARITHMETIC OP TEST
//
PUSHI 2 X
PUSHI 2 Y
STACK
ADD Z
STACK
PUSH X
ADD
PUSH Z W
SUB
STACK
POP
STACK

// JMP TEST 1
// Z = MIN ( X, Y )
//
PUSHI 5 X
PUSHI 23 Y
PUSHI NaN Z
STACK
PUSH X
PUSH Y
STACK
JMPLT ITS-X
PUSH Y
POP Z
JMP DONE
LABEL ITS-X
PUSH X
POP Z
LABEL DONE
STACK
POP

// JMP TEST 2
// Z = MIN ( X, Y )
//
STACK
PUSH X Z
PUSH X
PUSH Y
JMPLT ITS-X
POP
PUSH Y Z
LABEL ITS-X
POP

// JMP TEST 3
// Z = MIN ( X, Y )
// Z pushed into stack by code jumped over
//
STACK
PUSH X
PUSH Y
JMPLT ITS-X
PUSH Y Z
JMP DONE
LABEL ITS-X
PUSH X Z
LABEL DONE
STACK
POP
POP

// JMP TEST 4
// Z = MIN ( X, Y )
// Z popped from stack by code jumped over
//
STACK
PUSH X
PUSH Y
PUSH Y Z
PUSH X Z
JMPLT ITS-X
POP
LABEL ITS-X
STACK
POP
